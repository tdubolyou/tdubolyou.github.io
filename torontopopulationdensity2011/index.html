<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoidHdlYXRoZXJidXJuIiwiYSI6IllqeWNoS28ifQ.LX7mJDglVdZODqd25Z8aeg';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/tweatherburn/ciyvwcqax005c2rplwgmx8b1u', //stylesheet location
    center: [-79.39,43.69], // starting position
    zoom: 10, // starting zoom
    pitch: 45,
    minZoom: 6,
    maxZoom:16,

});
    
map.on('load', function(){

    //set up data sources
map.addSource('population', {
      'type':'vector',
      'url':'mapbox://tweatherburn.6ut8ijsu'
    })
 .addLayer({
    	'id':'extrusions',
      'type':'fill-extrusion',
      'source':'population',
      'source-layer':'GTHA_DA_POPDENS-apemna',
      'paint':{
        'fill-extrusion-color':{
            "stops": [[0,'#160e23'],[50,'#00617f'], [80,'#55e9ff'],[150,'#55e9ff'],[200,'#ffffcc']],                       
            "property": "PPLperHA"},
        'fill-extrusion-height':{
            "property": "PPLperHA",
            "type": "identity"},
        'fill-extrusion-opacity':0.5
      },
     
})
});

</script>

</body>
</html>
